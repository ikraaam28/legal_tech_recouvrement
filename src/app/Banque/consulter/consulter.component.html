
<html><div class="col-md-6 mx-3">
  <app-navbar></app-navbar>
</div><!--
-->
<body><div  style="margin-top: 90px;" >
  <div class="row">
    <!--begin::Col-->
    <div class="col-xxl-4 ms-20">
      <!--begin::Engage widget 1-->
      <div class="card h-md-100" dir="ltr">
        <!--begin::Body-->
        <div class="card-body d-flex flex-column flex-center">
          <!--begin::Heading-->
          <div class="mb-2">
            <!--begin::Title-->
            <h1 class="fw-semibold text-gray-800 text-center lh-lg">Try out our
            <br />new
            <span class="fw-bolder">Invoice Manager</span></h1>
            <!--end::Title-->
            <!--begin::Illustration-->
            <div class="py-10 text-center">
              <img src="assets/media/svg/illustrations/easy/2.svg" class="theme-light-show w-200px" alt="" />
              <img src="assets/media/svg/illustrations/easy/2-dark.svg" class="theme-dark-show w-200px" alt="" />
            </div>
            <!--end::Illustration-->
          </div>
          <!--end::Heading-->
          <!--begin::Links-->
          <div class="text-center mb-1">
            <!--begin::Link-->
            <a class="btn btn-sm btn-primary me-2" data-bs-target="#kt_modal_new_address" data-bs-toggle="modal">Try Now</a>
            <!--end::Link-->
            <!--begin::Link-->
            <a class="btn btn-sm btn-light" href="../../demo1/dist/apps/user-management/users/view.html">Learn More</a>
            <!--end::Link-->
          </div>
          <!--end::Links-->
        </div>
        <!--end::Body-->
      </div>
      <!--end::Engage widget 1-->
    </div>
    <!--end::Col-->
    <div class="col-xl-4">
      <!--begin: Statistics Widget 6-->
      <div class="card bg-light-primary card-xl-stretch mb-5 mb-xl-8">
        <!--begin::Body-->
        <div class="card-body my-3">
          <a href="#" class="card-title fw-bold text-primary fs-5 mb-3 d-block">Marketing Analysis</a>
          <div class="py-1">
            <span class="text-dark fs-1 fw-bold me-2">76%</span>
            <span class="fw-semibold text-muted fs-7">400k Impressions</span>
          </div>
          <div class="progress h-7px bg-primary bg-opacity-50 mt-7">
            <div class="progress-bar bg-primary" role="progressbar" style="width: 76%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        </div>
        <!--end:: Body-->
      </div>
      <!--end: Statistics Widget 6-->
    </div>
    
  </div>
   <!--begin::Main-->
   <div class="app-main flex-column flex-row-fluid" id="kt_app_main">
      <!--begin::Content wrapper-->
      <div class="d-flex flex-column flex-column-fluid">
                                  
<!--begin::Toolbar-->
<div id="kt_app_toolbar" class="app-toolbar  py-3 py-lg-6 " >

  <!--begin::Toolbar container-->
<div id="kt_app_toolbar_container" class="app-container  container-xxl d-flex flex-stack ">
  


<!--begin::Page title-->
<div  class="page-title d-flex flex-column justify-content-center flex-wrap me-3 ">
<!--begin::Title-->
<h1 class="page-heading d-flex text-primary fw-bold fs-3 flex-column justify-content-center my-0">
Listes Des Impayées
  </h1>
<!--end::Title-->


</div>
<!--end::Page title-->

</div>
<!--end::Toolbar container-->
</div>
<!--end::Toolbar-->                                        
          
<!--begin::Content-->
<div id="kt_app_content" class="app-content  flex-column-fluid " >
  <!--begin::Content container-->
<div id="kt_app_content_container" class="app-container  container-xxl ">
  <!--begin::Products-->
<div class="card card-flush">
<!--begin::Card header-->
<div class="card-header align-items-center py-5 gap-2 gap-md-5">
<!--begin::Card title-->
<div class="card-title">
  <!--begin::Search-->
  <div class="d-flex align-items-center position-relative my-1">
      <!--begin::Svg Icon | path: icons/duotune/general/gen021.svg-->
<span class="svg-icon svg-icon-1 position-absolute ms-4"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect opacity="0.5" x="17.0365" y="15.1223" width="8.15546" height="2" rx="1" transform="rotate(45 17.0365 15.1223)" fill="currentColor"/>
<path d="M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z" fill="currentColor"/>
</svg>
</span>
<!--end::Svg Icon-->  <input type="text" id="search" [(ngModel)]="searchTerm" data-kt-ecommerce-product-filter="search" class="form-control form-control-solid w-250px ps-14" placeholder="Chercher Fiche impayée" />
  </div>
  <!--end::Search-->
</div>
<!--end::Card title-->

<!--begin::Card toolbar-->
<div class="card-toolbar flex-row-fluid justify-content-end gap-5">
  
<!--begin::Export-->

<input type="file" class="form-control" (change)="onFileSelected($event)" style="width: 300px;">
<button type="button" class="btn btn-primary" (click)="onUpload()">Importer</button>
<a href="/src/assets/FicheClient/legaltech.xlsx" download><button class="btn btn-primary">Modele du Fiche</button></a>

                                
                                <!-- Modal -->
                                <a   class="btn btn-primary" style="color: white;" data-bs-toggle="modal" data-bs-target="#kt_modal_offer_a_deal" (click)="onHireMeClick()">Ajouter Client</a>
                                <!--begin::Modal body-->

                                	<!--begin::Modal - Offer A Deal-->
		<div class="modal fade" id="kt_modal_offer_a_deal" tabindex="-1" aria-hidden="true">
			<!--begin::Modal dialog-->
			<div class="modal-dialog modal-dialog-centered mw-1000px">
				<!--begin::Modal content-->
				<div class="modal-content">
					<!--begin::Modal header-->
					<div class="modal-header py-7 d-flex justify-content-between">
						<!--begin::Modal title-->
						<h2>Ajouter Client</h2>
						<!--end::Modal title-->
						<!--begin::Close-->
						<div class="btn btn-sm btn-icon btn-active-color-primary" data-bs-dismiss="modal">
						</div>
						<!--end::Close-->
					</div>
					<!--begin::Modal header-->
					<div class="modal-body scroll-y m-5">
						<!--begin::Stepper-->
						<div class="stepper stepper-links d-flex flex-column" id="kt_modal_offer_a_deal_stepper">
							<!--begin::Nav-->
							<div class="stepper-nav justify-content-center py-2">
								<!--begin::Step 1-->
								<div class="stepper-item me-5 me-md-15 current" data-kt-stepper-element="nav">
									<h3 class="stepper-title">Informations de base</h3>
								</div>
								<!--end::Step 1-->
								<!--begin::Step 2-->
								<div class="stepper-item me-5 me-md-15" data-kt-stepper-element="nav">
									<h3 class="stepper-title">Plus d'informations</h3>
								</div>
								<!--end::Step 2-->
								
							
							</div>
							<!--end::Nav-->
							<!--begin::Form-->
							<form class="mx-auto mw-500px w-100 pt-15 pb-10" novalidate="novalidate" id="kt_modal_offer_a_deal_form" [formGroup]="myForm" (ngSubmit)="onSubmit()">
								<div class="current" data-kt-stepper-element="content">
                  <!--begin::Wrapper-->
                  <div class="w-100">
                 
                     <!--begin::Form-->
    <div formGroupName="one">
      <!--begin::Fields-->
      <div class="row mb-7">
        <!--begin::Nom-->
        <div class="col-lg-6 mb-4">
          <div class="fv-row mb-0">
            <label for="nom" class="form-label">Nom</label>
            <input type="text" class="form-control form-control-lg" id="nom" id="nom" formControlName="nom" [(ngModel)]="ficheData.nom"  required>
          </div>
        </div>
        <!--end::Nom-->
        <!--begin::Prénom-->
        <div class="col-lg-6 mb-4">
          <div class="fv-row mb-0">
            <label for="prenom" class="form-label">Prénom</label>
            <input type="text" class="form-control form-control-lg" id="prenom" name="prenom" [(ngModel)]="ficheData.prenom"  formControlName="prenom" required>
          </div>
        </div>
        <!--end::Prénom-->
      </div>
      <div class="row mb-7">
        <!--begin::CIN-->
        <div class="col-lg-6 mb-4">
          <div class="fv-row mb-0">
            <label for="cin" class="form-label">CIN</label>
            <input type="text" class="form-control form-control-lg" id="cin" name="cin" [(ngModel)]="ficheData.cin" formControlName="cin" required>
          </div>
        </div>
        <!--end::CIN-->
        <!--begin::Adresse-->
        <div class="col-lg-6 mb-4">
          <div class="fv-row mb-0">
            <label for="adresse" class="form-label">Adresse</label>
            <input type="text" class="form-control form-control-lg" id="adresse" name="adresse" [(ngModel)]="ficheData.adresse"  formControlName="adresse" required>
          </div>
        </div>
        <!--end::Adresse-->
      </div>
      <div class="row mb-7">
        <!--begin::Numéro de téléphone-->
        <div class="col-lg-6 mb-4">
          <div class="fv-row mb-0">
            <label for="telephone" class="form-label">Numéro de téléphone</label>
            <input type="text" class="form-control form-control-lg" id="tel" name="telephone" [(ngModel)]="ficheData.tel"  formControlName="tel" required>
          </div>
        </div>
        <!--end::Numéro de téléphone-->
        <!--begin::Adresse e-mail-->
        <div class="col-lg-6 mb-4">
          <div class="fv-row mb-0">
            <label for="email" class="form-label">Adresse e-mail</label>
            <input type="email" class="form-control form-control-lg" id="email" name="email" [(ngModel)]="ficheData.email"  formControlName="email" required>
          </div>
        </div>
        <!--end::Adresse e-mail-->
      </div>
      <!--end::Fields-->
      <!--begin::Actions-->
      <div class="d-flex justify-content-end">
        <button type="button" class="btn btn-lg btn-primary" data-kt-element="type-next">
          <span class="indicator-label">Suivant</span>
          <span class="indicator-progress">Please wait...
          <span class="spinner-border spinner-border-sm align-middle ms-2"></span></span>
        </button>
      </div>
      <!--end::Actions-->
    </div>
    <!--end::Form-->
                  </div>
                  <!--end::Wrapper-->
                </div>
<!--begin::Details-->
<div data-kt-stepper-element="content">
  <!--begin::Wrapper-->
  <div class="w-100">
<div formGroupName="two">
   <!--begin::Fields-->
<div class="row mb-7">
  <!--begin::Montant des créances-->
  <div class="col-lg-6 mb-4">
    <div class="fv-row mb-0">
      <label for="montant_creances" class="form-label">Montant des créances</label>
      <input type="text" class="form-control form-control-lg" id="montant_creances" [(ngModel)]="ficheData.montant_creances" name="montant_creances" formControlName="montant_creances" required>
    </div>
  </div>
  <!--end::Montant des créances-->
  <!--begin::Justificatif des créances-->
  <div class="col-lg-6 mb-4">
    <div class="fv-row mb-0">
      <label for="justificatif_creances" class="form-label">Justificatif des créances</label>
      <input type="file" (change)="onFileSelected($event)" accept=".pdf,.doc,.docx"  class="form-control form-control-lg" id="justificatif_creances" name="justificatif_creances" formControlName="justificatif_creances" required>
    </div>
  </div>
  <!--end::Justificatif des créances-->
</div>
<div class="row mb-7">
  <!--begin::Objet des créances-->
  <div class="col-lg-6 mb-4">
    <div class="fv-row mb-0">
      <label for="objet_creances" class="form-label">Objet des créances</label>
      <input type="text" class="form-control form-control-lg" id="objet_creances" name="objet_creances" [(ngModel)]="ficheData.objet_creances"  formControlName="objet_creances" required>
    </div>
  </div>
  <!--end::Objet des créances-->
  <!--begin::Montant des échéances-->
  <div class="col-lg-6 mb-4">
    <div class="fv-row mb-0">
      <label for="montant_echeances" class="form-label">Montant des échéances</label>
      <input type="text" class="form-control form-control-lg" id="montant_echeances" name="montant_echeances" [(ngModel)]="ficheData.montant_echeances"  formControlName="montant_echeances" required>
    </div>
  </div>
  <!--end::Montant des échéances-->
</div>
<div class="row mb-7">
  <!--begin::Nombre d'échéances-->
  <div class="col-lg-6 mb-4">
    <div class="fv-row mb-0">
      <label for="nombre_echeances" class="form-label">Nombre d'échéances</label>
      <input type="text" class="form-control form-control-lg" id="nombre_echeances" name="nombre_echeances" [(ngModel)]="ficheData.nombre_echeances"  formControlName="nombre_echeances" required>
    </div>
  </div>
  <!--end::Nombre d'échéances-->
  <!--begin::Note Banque-->
  <div class="col-lg-6 mb-4">
    <div class="fv-row mb-0">
      <label for="note_banque" class="form-label">Note Banque</label>
      <input type="text" class="form-control form-control-lg" id="note_banque" name="note_banque" [(ngModel)]="ficheData.note_banque"  formControlName="note_banque" required>
    </div>
  </div>
  <!--end::Note Banque-->
</div>
<!--end::Fields-->

    <!--begin::Actions-->
    <div class="d-flex flex-stack">
      <button type="button" class="btn btn-lg btn-light me-3" data-kt-element="details-next">Précédent</button>
      <button type="submit" class="btn btn-lg btn-primary" data-kt-element="details-previous">
        <span class="indicator-label"  >Enregistrer</span>
        <span class="indicator-progress">Please wait...
        <span class="spinner-border spinner-border-sm align-middle ms-2"></span></span>
      </button>
    </div>
    <!--end::Actions-->
  </div>
  </div>
  <!--end::Wrapper-->
  
</div>
<!--end::Details-->
	
								
							</form>
							<!--end::Form-->
						</div>
						<!--end::Stepper-->
					</div>
					<!--begin::Modal body--></div></div></div>
                                

</div>
<!--end::Card toolbar-->
</div>
<!--end::Card header-->

<!--begin::Card body-->
<div class="card-body pt-0">

<!--begin::Table-->
<table class="table align-middle table-row-dashed fs-6 gy-5" >
<!--begin::Table head-->
<thead>
<!--begin::Table row-->
<tr class="text-start text-gray-400 fw-bold fs-7  text-uppercase gs-0">
  
  <th class=" min-w-200px">Nom Prénom </th>
  <th class=" min-w-70px">Cin </th>
  <th class=" min-w-70px">Adresse </th>
  <th class=" min-w-70px">Téléphone </th>
  <th class=" min-w-70px">Email </th>
  
</tr>
<!--end::Table row-->
</thead>
<!--end::Table head-->

<!--begin::Table body-->
<tbody class="fw-semibold  fs-7 text-gray-600" id="tab" >
          <!--begin::Table row-->
  <tr  *ngFor="let ficheimpaye of FicheImpayelist | filter:searchTerm | paginate: { itemsPerPage: pageSize, currentPage: currentPage, totalItems: totalItems }">
      <!--begin::Checkbox-->
      <td>
        <div class="d-flex align-items-center">
          <div class="ms-5">
              <!--begin::Title-->
              <p class="text-gray-800 text-hover-primary fs-5 ">{{ficheimpaye.nom}} {{ficheimpaye.prenom}}</p>
              <!--end::Title-->
          </div>
      </div>
      </td>
      <td>
        <div class="d-flex align-items-center">
          <div class="ms-5">
              <!--begin::Title-->
              <p class="text-gray-800 text-hover-primary fs-5 ">{{ficheimpaye.cin}}</p>
              <!--end::Title-->
          </div>
      </div>
      </td>
      <td>
        <div class="d-flex align-items-center">
          <div class="ms-5">
              <!--begin::Title-->
              <p class="text-gray-800 text-hover-primary fs-5 ">{{ficheimpaye.adresse}}</p>
              <!--end::Title-->
          </div>
      </div>
      </td>
      <td>
        <div class="d-flex align-items-center">
          <div class="ms-5">
              <!--begin::Title-->
              <p class="text-gray-800 text-hover-primary fs-5 ">{{ficheimpaye.tel}}</p>
              <!--end::Title-->
          </div>
      </div>
      </td>
      <td>
        <div class="d-flex align-items-center">
          <div class="ms-5">
              <!--begin::Title-->
              <p class="text-gray-800 text-hover-primary fs-5 ">{{ficheimpaye.email}}</p>
              <!--end::Title-->
          </div>
      </div>
      </td>
      
      <td class="text-end">
        <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Actions
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" [routerLink]="['/fiche', ficheimpaye.id]" >Consulter</a>
                <a class="dropdown-item"  (click)="modifierFiche(ficheimpaye.id, ficheimpaye)" data-bs-toggle="modal" data-bs-target="#kt_modal_offer_a_deal" >Modifier</a>
                <a class="dropdown-item" (click)="deleteFiche(ficheimpaye.id)">Supprimer</a>
            </div>
        </div>
    </td>
  </tr>
 
  <!--end::Table row-->
          <!--begin::Table row-->
   </tbody></table>
   <pagination-controls 
   (pageChange)="currentPage = $event"
   previousLabel="Précédent"
   nextLabel="Suivant">
 </pagination-controls>
  </div>

  
</div></div></div></div></div></div>

</body>
</html>